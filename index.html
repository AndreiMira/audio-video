<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Demo Àudio i Vídeo</title>
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
		<link rel="stylesheet" href="css/style.css" />
	</head>
	<body>
		<!-- Deixem l'etiqueta audio sense controls. Veieu que desapareix tot. -->
		<audio id="player">
			<source src="media/techbg.mp3" type="audio/mp3" />
			Ho sento, el teu navegador no suporta àudio d'HTML5.
		</audio>
		<!-- Afegim una capa que mostra si l'àudio s'està reproduint: ho fem amb una animació CSS. -->
		<div class="fonsPlayer">
			<div class="ocean">
				<div class="wave"></div>
				<div class="wave"></div>
			</div>
		</div>
		<!-- Afegim un botó de control per engegar la música. Utilitzem una font d'icones. -->
		<div class="controlButtons">
			<!-- Botón de play video (engegar) -->
			<button type="button" onclick="controlarReproduccion(true);" class="controlButton">
				<svg class="icon" width="24" height="24" viewBox="0 0 24 24">
					<path d="M3 22v-20l18 10-18 10z"></path>
				</svg>
			</button>

			<!-- Botón de pause video (aturar) -->
			<button type="button" onclick="controlarReproduccion(false);" class="controlButton">
				<svg class="icon" width="24" height="24" viewBox="0 0 24 24">
					<path d="M6 4h4v16h-4zM14 4h4v16h-4z"></path>
				</svg>
			</button>
			<!-- Slider de volumen -->
			<input type="range" id="volume-slider" />
		</div>
		<!-- Recordeu que heu de seguir les lleis en matèria de propietat intelectual.
         En aquest cas, cal nomenar i enllaçar l'autor i el tipus de llicència. 
    -->
		<div style="padding: 1em; margin-bottom: 1em; border: 1px; background-color: #eee">
			"<a rel="nofollow" href="https://timtaj.com/royalty-free-music/background-technology">Background Technology</a>" by <a rel="nofollow" href="https://freemusicarchive.org/music/timtaj/contact">Taj Tim</a> is licensed under
			<a rel="nofollow" href="https://creativecommons.org/licenses/by-nc-nd/4.0/">Attribution-NonCommercial-NoDerivatives 4.0 International License</a>
		</div>
		<div style="padding: 1em; margin-bottom: 1em; border: 1px; background-color: #eee">"Animació CSS de <a rel="nofollow" href="https://codepen.io/tedmcdo">Ted MacDonald</a>: a CodePen <a rel="nofollow" href="https://codepen.io/tedmcdo/pen/PqxKXg">CSS & SVG Waves Animation</a></div>
		<!-- Cal seleccionar l'element d'àudio. -->
		<script>
			// Función para manipular el audio y la animación
			function controlarReproduccion(reproducir) {
				var audio = document.getElementById("player");
				var waves = document.querySelectorAll(".wave");

				if (reproducir) {
					// Reproducir audio
					audio.play();

					// Agregar clase "playing" a las ondas para iniciar la animación
					waves.forEach(function (onda) {
						onda.classList.add("playing");
					});
				} else {
					// Detener audio y reiniciar posición de reproducción
					audio.pause();
					audio.currentTime = 0;

					// Quitar clase "playing" a las ondas para detener la animación
					waves.forEach(function (onda) {
						onda.classList.remove("playing");
					});
				}
			}

			// Evento de cambio en el control deslizante de volumen
			document.getElementById("volume-slider").addEventListener("change", function (evento) {
				var audio = document.getElementById("player");
				// Actualizar el volumen del audio en base al valor del control deslizante
				audio.volume = evento.currentTarget.value / 100;
			});
		</script>
	</body>
</html>
